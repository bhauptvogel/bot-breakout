version: "3.1"

rules:
- rule: Schedule a reminder
  steps:
  - intent: user_asks_about_wellbeing
  - action: action_set_reminder

- rule: Trigger `action_react_to_reminder` for `EXTERNAL_reminder`
  steps:
  - intent: EXTERNAL_reminder
  - action: action_react_to_reminder

- rule: You cannot leave
  steps:
  - intent: user_wants_to_leave
  - action: utter_you_cannot_leave

- rule: Give user a hint
  steps:
  - intent: user_needs_hint
  - action: utter_hint

- rule: Give user an overview of the state
  steps:
  - intent: overview_of_the_state
  - action: action_overview_of_the_state

- rule: User guesses who the murderer is
  steps:
  - intent: user_guesses_murderer
  - action: action_user_guess

- rule: User investigates the scene
  steps:
  - intent: scene_investigation
  - action: action_scene_investigation

- rule: User investigates the characters
  steps:
  - intent: information_about_character
  - action: action_character_investigation

- rule: User want's to know reasons / motives about the characters
  steps:
  - intent: motive_of_character
  - action: action_tell_motive

- rule: User want's to know who has access to the roller coaster
  steps:
  - intent: access_to_rollercoaster
  - action: action_access_to_roller_coaster

- rule: User want's to investigate cabin
  steps:
  - intent: cabin_investigation
  - action: utter_cabin_text

- rule: Start formular
  steps:
  - intent: guess_cabin_pin
  - action: simple_cabin_form
  - active_loop: simple_cabin_form

- rule: User guessed right password
  condition:
  - active_loop: simple_cabin_form
  steps:
  - action: simple_cabin_form
  - active_loop: null
  - slot_was_set:
      - requested_slot: null
  - action: action_cabin_end
  - action: utter_cabin_entry
