version: '3.1'
intents:
- user_asks_about_wellbeing
- user_wants_to_leave
- user_needs_hint
- overview_of_the_state
- user_guesses_murderer
- scene_investigation
- information_about_character
- motive_of_character
- access_to_rollercoaster
- EXTERNAL_reminder
- cabin_investigation
- guess_cabin_pin

entities:
- object
- person
- information
- cabin_password

slots:
  data:
    type: rasa.shared.core.slots.AnySlot
    initial_value: null
    mappings:
    - type: custom
  cabin_password:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: cabin_password

forms:
  simple_cabin_form:
    required_slots:
      - cabin_password

responses:
  utter_hello:
  - text: Oh, Iâ€™m just in shock after seeing the dead body. I just called the police, because this is what a good citizen does, right? But now Iâ€™m not sure if it was the right decisionâ€¦ We are the only people here and its my work place. I might be a suspect! The police told me they would arrive in about 10 minutues. I should give them some valuable hints about this case when they arrive here. But I donâ€™t know where to start. Can you help me clear my mind? We could first investigate the body with the note, or we could talk about my co-workers.
  - text: I'm shocked. After discovering the lifeless body, my first instinct was to call the police. That's what I was supposed to do, wasn't I? But now, I'm having second thoughts... We're the only ones here, and this is my workplace, so I'm likely to become a suspect. The police told me they would arrive in about 10 minutues and I think it would be good if we could already give the police a possible suspect, to not be one myself. But where should I start? My thoughts are a mess. Could you help me? Maybe we should start examining the crime scene or let's talk about my co-workers.
  utter_you_cannot_leave:
  - text: You canâ€™t leave before the police arrives in a few minutes! We need to find hints together, so they donâ€™t think we two did it. Should we investigate or talk?
  - text: This is not possible! The murder could still be walking around, we should wait until the police arrives in a few minutes. I think we should investigate the situation more.
  utter_respond_to_accusation:
  - text: I'm not really sure. It could be possible! But before we accuse her let's have a closer look at all the facts we have so far
  utter_investigate_crime_scene:
  - text: Oh my god, this feel scary to look at a dead body, but itâ€™s the best think we can do. Letâ€™s move a few  steps closerâ€¦ Ahhhh! Shit. I know the dead woman in the cabin.
  utter_information_about_coworkers:
  - text: My coworkers are Kira, who works as a cashier, and Patrick who is the director of the amusement park. Do you want to know more about one of them?
  utter_who_is_maria:
  - text: She's the ex-girlfriend from Kira, my co-worker. I met her a couple times.
  - text: This is Maria. She is the Ex-girlfriend of my co-worker Kira who works as a cashier. Do you want to know more about Kira Or should we investigate the cabin a bit more?
  utter_who_is_kira:
  - text: Ok so we are standing Infront of the train cabin. It has two seats, as ours did. On the seat closer to us and closer to the themed area is the female corpse. She is covered in blood and a note is pinned to her chest. I donâ€™t see why and how she diedâ€¦ We could look around a bit more and find the weapon Or I tell you about the noteâ€¦
  utter_who_is_patrick:
  - text: Patrick is my boss. He in charge of the amusement park. Its actually a family business, he earned it from his dad. Patrick is kind of a snobâ€¦ he loves to drive around in big cars and all this wealthy stuff.
  utter_who_is_anna:
  - text: Anna is Marias colleague at the Fictional Times Paper. I met her at some of Kiras Partys. She is nice but very focused on her job, just as Maria is â€¦ sorry, was ðŸ˜¥
  utter_who_is_victor:
  - text: Victor is the Maria's new boyfriend. I donâ€™t know him. Only the things Kira told me about him. She was pretty jealous, that Maria has someone new ðŸ‘€
  utter_hint:
  - text: You can always ask for an overview of the situation and what I have already told you.
  utter_ask_cabin_password:
  - text: Is there another possibility than 686?
  - text: Nope it's not this one...
  - text: Maybe we should consider if the train number was correct...
  - text: Maybe look at the train number another way...
  utter_cabin_entry:
  - text: "It has two seats, as ours did. On the seat closer to us and closer to the themed area is the female corpse. She is covered in blood and a note is pinned to her chest. I donâ€™t see why and how she died... The floor also looks messy. I see something in the puddles. Its a knife! Its strange to grab in blood, but I get it out."
  utter_cabin_text:
  - text: We are now standing in front of the train cabin with the dead body. But Damn... the door is locked, I cant get in. All cabins are lock with a 3-digit pincode. I set those after a rough work day... I don't know the solution but I work with a specific system. I subtract the fourth prime number from the cabin number, added 2 and divide it by 2. I think the cabin number of this cabin is 686. Can you help me find the right pin code to enter the cabin? Just tell me the 3-digit pin code I should try!
actions:
- action_overview_of_the_state
- action_scene_investigation
- action_character_investigation
- action_tell_motive
- action_access_to_roller_coaster
- action_set_reminder
- action_react_to_reminder
- action_user_guess
- validate_simple_cabin_form
- action_cabin_end
- utter_ask_cabin_password
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

